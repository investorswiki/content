---
keywords: Investing,Cryptocurrency,Cryptocurrency Strategy and Education,Crypto,Strategy and Education
title: ハッシュタイムロック契約（HTLC）
description: ハッシュされたTimeLockコントラクト（HTLC）。支払いチャネルを変更できるスマートコントラクトを作成するために使用される特別な機能を指します。
---

# ハッシュタイムロック契約（HTLC）
ハッシュタイムロックコントラクト（HTLC）という用語は、支払いチャネルを変更できる[スマートコントラクトを作成するために使用される特別な機能を指します。](/smart-contract)技術的には、HTLC機能により、2人のユーザー間の期限付きトランザクションの実装が可能になります。実際には、HTLCトランザクションの受信者は、指定された時間枠（ブロック数）内に暗号証明を提出することによって支払いを確認する必要があります。受取人が支払いを没収または請求しなかった場合、資金は元の差出人に返金されます。

HTLC機能は、双方向およびルーティングされた支払いチャネルの両方に適用され、仲介者を信頼することなく、さまざまなチャネルを介して資金を安全に転送できるようにします。

HTLCを標準の暗号通貨トランザクションと区別する2つの重要な要素があります。

-ハッシュロック：特定のデータが（暗号化された証拠として）公開されるまで、資金の支出を制限する機能。このような証明は、ハッシュロックのプレイメージと呼ばれることもあります。プレイメージは、ハッシュロックを生成し、後でその資金のロックを解除するために使用される情報の一部にすぎません。

-タイムロック：将来の特定の時間（またはブロックの高さ）まで資金の支出を制限する機能です。これは、たとえば、CheckLockTimeVerifyやCheckSequenceVerifyなどの関数を使用してビットコインで実現できます。

ビットコインライトニングネットワークは、ハッシュされたタイムロック契約の最も一般的なユースケースの1つです。 HTLCを支払いチャネルに実装することにより、相互接続された支払いチャネルを介して、ユーザー間で資金を取引できます。信頼性は必要ありません。このプロセスは、ネットワークルーティングと呼ばれます。これにより、支払いチャネルを介して直接接続されていない場合でも、アリスはキャロルと資金を交換できます。 HTLCを使用すると、アリスはネットワークの他の参加者（ボブなど）を介してキャロルに資金を送ることができます。ハッシュロックおよびタイムロック機能により、ボブは資金を傍受できなくなります。

[アトミックスワップ](/atomic-swaps)、金融スマートコントラクト、エスクローなど、他のコンテキストでも役立ちます。

##ハイライト

-HTLCを使用した支払いは条件付きであるため、ブロックチェーントランザクションの効率が向上します。この特性により、HTLCはライトニングネットワークで使用される基本的なツールになります。

-このタイプのスマート契約では、支払いの受領者が一定期間内にそれを承認するか、または没収する必要があります。

-ハッシュタイムロック契約（HTLC）は、暗号化パスフレーズを利用する時間ベースのエスクローを効果的に作成することにより、分散型スマートコントラクトのカウンターパーティリスクを軽減します。

＃＃ よくある質問

###スマートコントラクトの費用はいくらですか？

イーサリアムブロックチェーンでは、スマートコントラクトの展開にはガスが必要であり、Gwei（イーサリアムの低額）のコストがかかります。契約の複雑さによっては、スマートコントラクトを展開するのに何十億ものGweiがかかる可能性があります。単純な交換のようなそれほど複雑でない契約ははるかに安価です。

###スマートコントラクトとは何ですか？

スマートコントラクトは、特定の条件が満たされたときに実行されるブロックチェーンに保存されたプログラムです。

###タイムロック契約とは何ですか？

タイムロックコントラクトは、特定の時間にトランザクションを実行するブロックチェーンに埋め込まれたスマートコントラクトです。これらは、特定の支払い時間が必要なハッシュ化されたタイムロック契約および支払いチャネルで使用されます。

###ビットコインにはスマートコントラクトがありますか？

当初、ビットコインのブロックチェーンはスマートコントラクトを実行できませんでした。ただし、2021年のTaprootのアップグレードにより、ブロックチェーンはトランザクションでスマートコントラクトを使用できるようになりました。

